{% extends 'base.html' %}
{% load static %}

{% block title %}Редактирование техники{% endblock %}
{% block content %}
<div class="container mt-5">
    <h2>Редактирование техники</h2>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="mb-3">
            <label for="reg_number" class="form-label">Регистрационный номер</label>
            <input type="text" class="form-control" id="reg_number" name="reg_number"
                   value="A123BC">
        </div>

        <div class="mb-3">
            <label for="brand" class="form-label">Бренд</label>
            <input type="text" class="form-control" id="brand" name="brand" value="УРАЛ">
        </div>

        <div class="mb-3">
            <label for="purchase_date" class="form-label">Дата покупки</label>
            <input type="date" class="form-control" id="purchase_date" name="purchase_date"
                   value="2025-01-03">
        </div>

        <div class="mb-3">
            <label for="type" class="form-label">Тип техники</label>
            <select class="form-select" id="type" name="type">
                <option selected disabled>Трактор</option>
                <option value="tractor">Трактор</option>
                <option value="truck">Грузовик</option>
                <option value="excavator">Экскаватор</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="mileage" class="form-label">Пробег (км)</label>
            <input type="number" class="form-control" id="mileage" name="mileage" value="120" min="0">
        </div>

        <div class="mb-3">
            <label for="status" class="form-label">Статус эксплуатации</label>
            <select class="form-select" id="status" name="status">
                <option value="working" selected>В работе</option>
                <option value="repair">На ремонте</option>
                <option value="idle">Простаивает</option>
            </select>
        </div>

        <hr>

        <h5>Фотографии</h5>
        <div class="d-flex flex-wrap gap-3">
            <div class="d-flex align-items-center border p-2 rounded shadow-sm">
                <img src="../img/truck.jpg" alt="Фото техники"
                     class="img-thumbnail me-2" style="width: 120px; height: auto;">
                <div class="form-check mb-0">
                    <input class="form-check-input" type="checkbox"
                           name="keep_photo_{{ photo.id }}"
                           id="keep_photo_1" checked>

                </div>
            </div>
        </div>


        <div class="mb-3">
            <label class="form-label">Фотографии</label>
            <input type="file" class="form-control mb-2" name="photo1" accept="image/*">
            <input type="file" class="form-control mb-2" name="photo2" accept="image/*">
            <input type="file" class="form-control" name="photo3" accept="image/*">
        </div>

        <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    </form>
</div>
{% endblock %}
